<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>booklist</title>

    <link rel="stylesheet" href="../src/css/main.css">
    <link rel="stylesheet" href="../src/css/home.css">
    <script src="../src/modules/jquery/jquery-3.3.1.min.js"></script>   

</head>
<body>

    <div id="search-zone">
        <input type="text" placeholder="请输入书名或作者" class="search-zone-input">
        <img src="../src/img/sousuoBig.png" alt="" class="search-zone-button">

    </div>

    <div class="search-book-result">
       <div class="result-order">排序</div> 
       <div class="result-wrapper">
            <div class="result-new btn-radius">最新</div>
            <div class="result-hot">最热</div>
       </div>
       
    </div>
    <div class="search-book-result-line"></div>

    <div id="search-book-list">
        <book-one 
        v-for="(bookone,index) in booklist" 
        :key="bookone.id" 
        v-bind:book="bookone"
        ></book-one>     
    </div>

    <div class="hidden-data" tagvalue='0' type='type'></div>

    
    <script src="../src/modules/vue/vue.min.js"></script>

    <script>
        function connectWebViewJavascriptBridge(callback) {
            if (window.WebViewJavascriptBridge) {
                callback(WebViewJavascriptBridge)
            } else {
                document.addEventListener(
                    'WebViewJavascriptBridgeReady',
                    function () {
                        callback(WebViewJavascriptBridge)
                    },
                    false
                );
            }
        }

        connectWebViewJavascriptBridge(function (bridge) {
            bridge.init(function (message, responseCallback) {
                console.log('JS got a message', message);
                var data = {
                    'Javascript Responds': '测试中文!'
                };

                if (responseCallback) {
                    console.log('JS responding with', data);
                    responseCallback(message);                    
                    data = JSON.parse(message)
                    console.log(data)
                    $('.hidden-data').attr('tagvalue', data.tagValue)
                    $('.hidden-data').attr('type', data.type)
                }
            })

        })
    </script>  
    
    <script src="../src/js/Jsbridge.js"></script> 
    <script src="../src/modules/moment/moment.min.js"></script>  
    <script src="../src/js/bookListComponent.js"></script> 
    <script src="../src/js/booklist.js" defer=true></script>
    
</body>
</html>